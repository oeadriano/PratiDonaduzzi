[{"data":{"type":"choice","stepName":"Choice","when":[],"otherwise":"","onProcessTrack":null,"onExceptionTrack":null,"id":"fe4aa6e8-e3a4-4ba3-8393-ad15bfa084ca","key":"component@choicechoice"},"position":{"x":188,"y":151},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"Transformer (JOLT)","transformSpec":"[\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"queryAndPath\": {\n        \"cliente\": \"=leftPad(@(1,cliente),10,'0')\"\n      }\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"ec50cdd6-2723-43ab-bf4f-ef7b314d9fed","key":"component@transformertransformer"},"position":{"x":488.5,"y":63},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"params":{"advanced":false,"disableConnectionPool":false,"body":"{\r\n\"query\": {{ CONCAT(\"
SELECT
	PEDIDO, datavencimento as VENCIMENTO, linhadigi as CODIGO_BARRAS, valororiginal as VALOR, STATUS, BUKRS, GJAHR, CODIGO AS BELNR
FROM
	dados-dev.visoes_auxiliares_cimed_tech.CV_VIEW_PARTIDAS_ABERTO_GERAL
WHERE
	LIFNR = '\" , message.queryAndPath.lifnr , \"' \" ) }},\r\n\"useLegacySql\": false\r\n}","compressBody":false,"stopOnServerError":false,"maxRetry":0,"sendBinaryFile":false,"isInsecure":false,"headers":"{\"Content-Type\":\"application/json\"}","operation":"POST","fileName":"","retry":false,"responseCharset":"UTF-8","rawMode":false,"readTimeout":30000,"invalidateSSLSessionsOnEveryCall":false,"rawModeAsBase64":false,"queryParams":"","url":"https://bigquery.googleapis.com/bigquery/v2/projects/dados-dev/queries","connectTimeout":30000,"saveAsLocalFile":false,"stopOnClientError":false,"forceHttp1":false,"overrideResponseCharset":true},"accountLabel":"gcp-google-key","name":"rest-connector-v2","accountLabels":{"custom-1":"","custom-2":""},"stepName":"request cliente","type":"connector","id":"1990b755-c0fe-410a-86e9-79bd282f7c07","onExceptionTrack":null,"onProcessTrack":null,"key":"component@connectorrest-connector-v2"},"position":{"x":656,"y":63},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"transforma payload","transformSpec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"body\": {\n        \"schema\": {\n          \"fields\": {\n            \"*\": \"fields[#2].&\"\n          }\n        },\n        \"rows\": {\n          \"*\": {\n            \"f\": {\n              \"*\": \"f[#2].&\"\n            }\n          }\n        },\n        \"dmlStats\": \"&\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"dmlStats\": \"&\",\n      \"fields\": \"&\",\n      \"f\": {\n        \"*\": {\n          \"*\": \"fields[#2].&.values\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"cardinality\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": \"MANY\"\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": {\n              \"*\": {\n                \"name\": \"@(3,name)\"\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": {\n              \"*\": \"data.&\"\n            }\n          }\n        }\n      },\n      \"dmlStats\": \"&\"\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"*\": {\n            \"v\": \"data[#3].@(1,name)\"\n          }\n        }\n      },\n      \"dmlStats\": \"updateCount\"\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"da15b1e3-76a2-4a1c-bbe8-617604304a7d","key":"component@transformertransformer"},"position":{"x":819,"y":63},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"JOLT detalhado ","transformSpec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"PEDIDO\": \"data[#2].pedido\",\n          \"VENCIMENTO\": \"data[#2].vencimento\",\n          \"CODIGO_BARRAS\": \"data[#2].codigo_barras\",\n          \"VALOR\": \"data[#2].valor\",\n          \"STATUS\": \"data[#2].status\",\n          \"BUKRS\": \"data[#2].bukrs\",\n          \"GJAHR\": \"data[#2].gjahr\",\n          \"BELNR\": \"data[#2].belnr\"\n        }\n      }\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"a1d8c1f9-4a10-4bd0-aba8-b8579af59112","key":"component@transformertransformer"},"position":{"x":965.5,"y":63},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"Transformer (JOLT)","transformSpec":"[\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"queryAndPath\": {\n        \"lifnr\": \"=leftPad(@(1,lifnr),10,'0')\"\n      }\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"18d71661-e43f-4e6f-acd0-869f95e30541","key":"component@transformertransformer"},"position":{"x":488.5,"y":239},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"params":{"advanced":false,"disableConnectionPool":false,"body":"{\r\n\"query\": {{ CONCAT(\"
SELECT
	CLIENTE, PEDIDO, datavencimento as VENCIMENTO, linhadigi as CODIGO_BARRAS, valororiginal as VALOR, STATUS, BUKRS, GJAHR, CODIGO AS BELNR
FROM
	dados-dev.visoes_auxiliares_cimed_tech.CV_VIEW_PARTIDAS_ABERTO_GERAL
WHERE
	LIFNR = '\" , message.queryAndPath.lifnr , \"' \" ) }},\r\n\"useLegacySql\": false\r\n}","compressBody":false,"stopOnServerError":false,"maxRetry":0,"sendBinaryFile":false,"isInsecure":false,"headers":"{\"Content-Type\":\"application/json\"}","operation":"POST","fileName":"","retry":false,"responseCharset":"UTF-8","rawMode":false,"readTimeout":30000,"invalidateSSLSessionsOnEveryCall":false,"rawModeAsBase64":false,"queryParams":"","url":"https://bigquery.googleapis.com/bigquery/v2/projects/dados-dev/queries","connectTimeout":30000,"saveAsLocalFile":false,"stopOnClientError":false,"forceHttp1":false,"overrideResponseCharset":true},"accountLabel":"gcp-google-key","name":"rest-connector-v2","accountLabels":{"custom-1":"","custom-2":""},"stepName":"request lifnr","type":"connector","id":"621606e3-e8f9-4c5c-85f7-f6b6d8082954","onExceptionTrack":null,"onProcessTrack":null,"key":"component@connectorrest-connector-v2"},"position":{"x":656,"y":239},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"transforma payload","transformSpec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"body\": {\n        \"schema\": {\n          \"fields\": {\n            \"*\": \"fields[#2].&\"\n          }\n        },\n        \"rows\": {\n          \"*\": {\n            \"f\": {\n              \"*\": \"f[#2].&\"\n            }\n          }\n        },\n        \"dmlStats\": \"&\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"dmlStats\": \"&\",\n      \"fields\": \"&\",\n      \"f\": {\n        \"*\": {\n          \"*\": \"fields[#2].&.values\"\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"cardinality\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": \"MANY\"\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": {\n              \"*\": {\n                \"name\": \"@(3,name)\"\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"fields\": {\n        \"*\": {\n          \"*\": {\n            \"values\": {\n              \"*\": \"data.&\"\n            }\n          }\n        }\n      },\n      \"dmlStats\": \"&\"\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"*\": {\n            \"v\": \"data[#3].@(1,name)\"\n          }\n        }\n      },\n      \"dmlStats\": \"updateCount\"\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"49cb8b36-17e2-4d5d-9f15-e3d5c42bca87","key":"component@transformertransformer"},"position":{"x":819,"y":239},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"type":"transformer","stepName":"JOLT detalhado ","transformSpec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"data\": {\n        \"*\": {\n          \"CLIENTE\": \"data[#2].cliente\",\n          \"PEDIDO\": \"data[#2].pedido\",\n          \"VENCIMENTO\": \"data[#2].vencimento\",\n          \"CODIGO_BARRAS\": \"data[#2].codigo_barras\",\n          \"VALOR\": \"data[#2].valor\",\n          \"STATUS\": \"data[#2].status\",\n          \"BUKRS\": \"data[#2].bukrs\",\n          \"GJAHR\": \"data[#2].gjahr\",\n          \"BELNR\": \"data[#2].belnr\"\n        }\n      }\n    }\n  }\n]","onProcessTrack":null,"onExceptionTrack":null,"id":"e813335e-d620-4e8f-9fb2-f74e46954958","key":"component@transformertransformer"},"position":{"x":965.5,"y":239},"group":"nodes","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"d6de0b47-b3f9-4c66-b5c3-de78049f367d","source":"fe4aa6e8-e3a4-4ba3-8393-ad15bfa084ca","target":"ec50cdd6-2723-43ab-bf4f-ef7b314d9fed","data":{"type":"choice","conditionType":"otherwise","conditionRule":null,"condition":null,"label":"caminho cliente","description":null,"executionId":null}},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"c1b6d314-85c9-4560-a26a-5ab01be13270","source":"1990b755-c0fe-410a-86e9-79bd282f7c07","target":"da15b1e3-76a2-4a1c-bbe8-617604304a7d","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"1aec7456-97c0-430c-9213-4135ebe65b41","source":"da15b1e3-76a2-4a1c-bbe8-617604304a7d","target":"a1d8c1f9-4a10-4bd0-aba8-b8579af59112","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"9b000f4d-e0e9-41e7-8e33-89bd2256376f","source":"ec50cdd6-2723-43ab-bf4f-ef7b314d9fed","target":"1990b755-c0fe-410a-86e9-79bd282f7c07","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"6827dad8-c1a5-4567-a6b9-ac7ecdebf7eb","source":"621606e3-e8f9-4c5c-85f7-f6b6d8082954","target":"49cb8b36-17e2-4d5d-9f15-e3d5c42bca87","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"2c9c9d74-141d-4b29-97a4-bb462f133fd8","source":"49cb8b36-17e2-4d5d-9f15-e3d5c42bca87","target":"e813335e-d620-4e8f-9fb2-f74e46954958","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"90aba2bc-1df2-4e70-9543-2a004f70cf90","source":"18d71661-e43f-4e6f-acd0-869f95e30541","target":"621606e3-e8f9-4c5c-85f7-f6b6d8082954","data":null},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"7fec91ae-2b3b-4ff7-9739-e926cb64a88d","source":"fe4aa6e8-e3a4-4ba3-8393-ad15bfa084ca","target":"18d71661-e43f-4e6f-acd0-869f95e30541","data":{"type":"choice","conditionType":"when","conditionRule":"jsonPath","condition":"$.queryAndPath.[?(@.lifnr)]","label":"caminho lifnr","description":null,"executionId":null}},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":true,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""}]